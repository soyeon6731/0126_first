@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* K-POP AI Curator Design System - Pastel Colors */

    /* Primary Colors - Pastel Purple */
    --color-primary-50: #F5F6FE;
    --color-primary-100: #EBEDFB;
    --color-primary-200: #D7DBF7;
    --color-primary-300: #B8BFF2;
    --color-primary-400: #9AA6ED;
    --color-primary-500: #7C8CF8;  /* Main color */
    --color-primary-600: #5B6CD9;
    --color-primary-700: #4452B0;
    --color-primary-800: #2F3987;
    --color-primary-900: #1F265E;

    /* Secondary Colors - Pastel Pink */
    --color-secondary-50: #FFF5F7;
    --color-secondary-100: #FFE3E9;
    --color-secondary-200: #FFC7D3;
    --color-secondary-300: #FFA0B5;
    --color-secondary-400: #FF7A98;
    --color-secondary-500: #FF547A;  /* Accent color */
    --color-secondary-600: #E6375D;
    --color-secondary-700: #B82447;
    --color-secondary-800: #8A1732;
    --color-secondary-900: #5C0F21;

    /* Accent Colors */
    --color-accent-mint-300: #A7F3D0;
    --color-accent-mint-500: #6EE7B7;
    --color-accent-peach-300: #FED7AA;
    --color-accent-peach-500: #FDBA74;
    --color-accent-lavender-300: #DDD6FE;
    --color-accent-lavender-500: #C4B5FD;
    --color-accent-yellow-300: #FDE68A;
    --color-accent-yellow-500: #FCD34D;

    /* Neutral Colors - Dark Navy instead of black */
    --color-neutral-50: #FAFAFA;
    --color-neutral-100: #F5F5F5;
    --color-neutral-200: #E5E5E5;
    --color-neutral-300: #D4D4D4;
    --color-neutral-400: #A3A3A3;
    --color-neutral-500: #737373;
    --color-neutral-600: #525252;
    --color-neutral-700: #404040;
    --color-neutral-800: #262626;  /* For text */
    --color-neutral-900: #1A1A2E;  /* Dark navy, not black */

    /* Background Colors */
    --color-bg-primary: #FEFBF6;     /* Warm white */
    --color-bg-secondary: #F9F5F0;   /* Card background */
    --color-bg-tertiary: #FFF9F0;    /* Emphasis section */

    /* Semantic Colors */
    --color-success: #4ADE80;
    --color-warning: #FBBF24;
    --color-error: #F87171;
    --color-info: #60A5FA;

    /* Shadcn compatibility */
    --background: 42 50% 98%;        /* Maps to bg-primary */
    --foreground: 240 15% 10%;       /* Maps to neutral-900 */
    --card: 40 33% 97%;
    --card-foreground: 240 15% 10%;
    --popover: 42 50% 98%;
    --popover-foreground: 240 15% 10%;
    --primary: 235 75% 73%;          /* Maps to primary-500 */
    --primary-foreground: 0 0% 98%;
    --secondary: 345 100% 67%;       /* Maps to secondary-500 */
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 235 75% 73%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 235 75% 73%;
    --radius: 1rem;  /* Rounded corners for cute design */
  }

  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 0 0% 83.1%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Pretendard Variable', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
    background-image:
      repeating-linear-gradient(
        0deg,
        rgba(124, 140, 248, 0.03) 0px,
        rgba(124, 140, 248, 0.03) 1px,
        transparent 1px,
        transparent 2px
      ),
      repeating-linear-gradient(
        90deg,
        rgba(124, 140, 248, 0.03) 0px,
        rgba(124, 140, 248, 0.03) 1px,
        transparent 1px,
        transparent 2px
      );
    background-size: 20px 20px;
  }
}

@layer utilities {
  /* Typography Utilities */
  .font-heading {
    font-family: 'Galmuri11', 'Pretendard Variable', sans-serif;
    font-weight: 700;
    letter-spacing: -0.02em;
  }

  .font-body {
    font-family: 'Pretendard Variable', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
  }

  /* Pixel Border Effect */
  .pixel-border {
    border-style: solid;
    border-width: 4px;
    border-image:
      repeating-linear-gradient(
        90deg,
        currentColor 0,
        currentColor 4px,
        transparent 4px,
        transparent 8px
      ) 1;
  }

  /* Retro Shadow */
  .retro-shadow {
    box-shadow:
      4px 4px 0px rgba(124, 140, 248, 0.3),
      8px 8px 0px rgba(255, 84, 122, 0.2);
  }

  /* Quick Action Chip - Retro Style */
  .quick-chip {
    @apply relative px-5 py-2.5 border-3 transition-all duration-200;
    @apply bg-white border-primary-400 text-neutral-800 font-medium;
    @apply hover:bg-primary-100 hover:-translate-y-1;
    @apply active:translate-y-0;
    border-radius: 12px;
    box-shadow:
      0 4px 0 0 #5B6CD9,
      0 4px 8px rgba(124, 140, 248, 0.2);
    font-family: 'Galmuri11', 'Pretendard Variable', sans-serif;
  }

  .quick-chip:hover {
    box-shadow:
      0 6px 0 0 #5B6CD9,
      0 6px 12px rgba(124, 140, 248, 0.3);
  }

  .quick-chip:active {
    box-shadow:
      0 2px 0 0 #5B6CD9,
      0 2px 4px rgba(124, 140, 248, 0.2);
  }

  /* Chat Message Bubbles - Pixel Art Style */
  .message-bubble-bot {
    @apply bg-primary-50 border-3 border-primary-300 p-4 relative;
    border-radius: 16px;
    border-top-left-radius: 4px;
    animation: fadeInUp 300ms ease-out;
    box-shadow:
      3px 3px 0 0 rgba(124, 140, 248, 0.2),
      0 4px 8px rgba(124, 140, 248, 0.1);
  }

  .message-bubble-bot::before {
    content: '';
    position: absolute;
    left: -8px;
    top: 0;
    width: 16px;
    height: 16px;
    background: #EBEDFB;
    border: 3px solid #B8BFF2;
    border-right: none;
    border-bottom: none;
    border-top-left-radius: 4px;
  }

  .message-bubble-user {
    @apply bg-secondary-50 border-3 border-secondary-300 p-4 relative;
    border-radius: 16px;
    border-top-right-radius: 4px;
    animation: fadeInUp 300ms ease-out;
    box-shadow:
      -3px 3px 0 0 rgba(255, 84, 122, 0.2),
      0 4px 8px rgba(255, 84, 122, 0.1);
  }

  .message-bubble-user::before {
    content: '';
    position: absolute;
    right: -8px;
    top: 0;
    width: 16px;
    height: 16px;
    background: #FFE3E9;
    border: 3px solid #FFA0B5;
    border-left: none;
    border-bottom: none;
    border-top-right-radius: 4px;
  }

  /* Track Card - Pixel Game Style */
  .track-card {
    @apply bg-white border-4 border-neutral-300 p-4 transition-all duration-300 relative;
    border-radius: 16px;
    box-shadow:
      4px 4px 0 0 rgba(0, 0, 0, 0.1),
      0 6px 12px rgba(0, 0, 0, 0.05);
  }

  .track-card:hover {
    @apply border-primary-400;
    transform: translateY(-4px);
    box-shadow:
      6px 6px 0 0 rgba(124, 140, 248, 0.3),
      0 8px 16px rgba(124, 140, 248, 0.2);
  }

  .track-card::after {
    content: '';
    position: absolute;
    top: -2px;
    right: -2px;
    width: 12px;
    height: 12px;
    background: linear-gradient(135deg, #fff 0%, #f0f0f0 100%);
    border-radius: 0 12px 0 0;
  }

  /* Hidden Gem Card - Sparkle Effect */
  .hidden-gem-card {
    @apply relative;
    animation: pulse 2s infinite, sparkle 3s infinite;
  }

  .hidden-gem-card::before {
    content: '';
    @apply absolute rounded-2xl;
    inset: -4px;
    background: linear-gradient(
      45deg,
      #FDE68A,
      #FCD34D,
      #6EE7B7,
      #A7F3D0,
      #FDE68A
    );
    background-size: 300% 300%;
    animation: gradientShift 3s ease infinite;
    z-index: -1;
    filter: blur(8px);
    opacity: 0.7;
  }

  /* Platform Buttons - Game Boy Style */
  .platform-button {
    @apply px-4 py-2 border-3 transition-all duration-200 font-medium;
    border-radius: 10px;
    font-family: 'Galmuri11', 'Pretendard Variable', sans-serif;
    font-size: 13px;
  }

  .platform-button-youtube {
    @apply bg-red-100 border-red-400 text-red-700;
    box-shadow: 0 3px 0 0 #DC2626;
  }

  .platform-button-youtube:hover {
    @apply bg-red-200;
    transform: translateY(-2px);
    box-shadow: 0 5px 0 0 #DC2626;
  }

  .platform-button-youtube:active {
    transform: translateY(1px);
    box-shadow: 0 1px 0 0 #DC2626;
  }

  .platform-button-spotify {
    @apply bg-green-100 border-green-400 text-green-700;
    box-shadow: 0 3px 0 0 #16A34A;
  }

  .platform-button-spotify:hover {
    @apply bg-green-200;
    transform: translateY(-2px);
    box-shadow: 0 5px 0 0 #16A34A;
  }

  .platform-button-spotify:active {
    transform: translateY(1px);
    box-shadow: 0 1px 0 0 #16A34A;
  }

  /* Pixel Decorations */
  .pixel-corners::before,
  .pixel-corners::after {
    content: '';
    position: absolute;
    width: 8px;
    height: 8px;
    background: currentColor;
  }

  .pixel-corners::before {
    top: 0;
    left: 0;
  }

  .pixel-corners::after {
    bottom: 0;
    right: 0;
  }
}

@layer components {
  /* Retro Animations */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes pulse {
    0%, 100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.8;
      transform: scale(1.05);
    }
  }

  @keyframes sparkle {
    0%, 100% {
      filter: brightness(1);
    }
    50% {
      filter: brightness(1.2);
    }
  }

  @keyframes gradientShift {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  @keyframes heartBeat {
    0%, 100% {
      transform: scale(1);
    }
    25% {
      transform: scale(1.2);
    }
    50% {
      transform: scale(0.95);
    }
  }

  @keyframes bounce {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-8px);
    }
  }

  @keyframes wiggle {
    0%, 100% {
      transform: rotate(0deg);
    }
    25% {
      transform: rotate(-5deg);
    }
    75% {
      transform: rotate(5deg);
    }
  }

  @keyframes shimmer {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(100%);
    }
  }

  .animate-shimmer {
    animation: shimmer 2s infinite;
  }

  /* Typing Indicator - Pixel Style */
  .typing-indicator {
    @apply flex gap-2;
  }

  .typing-indicator span {
    width: 10px;
    height: 10px;
    border-radius: 2px;
    background-color: #9AA6ED;
    animation: pixelBounce 1.4s infinite;
    box-shadow: 0 2px 0 0 rgba(124, 140, 248, 0.3);
  }

  .typing-indicator span:nth-child(2) {
    animation-delay: 0.2s;
  }

  .typing-indicator span:nth-child(3) {
    animation-delay: 0.4s;
  }

  @keyframes pixelBounce {
    0%, 60%, 100% {
      transform: translateY(0);
    }
    30% {
      transform: translateY(-12px);
    }
  }

  /* Recommendation Grid */
  .recommendations-grid {
    @apply grid gap-6;
    grid-template-columns: 1fr;
  }

  @media (min-width: 768px) {
    .recommendations-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .recommendations-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  @media (min-width: 1440px) {
    .recommendations-grid {
      grid-template-columns: repeat(4, 1fr);
    }
  }
}
